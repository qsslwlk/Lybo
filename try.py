#!/usr/bin/env python3# -*- coding: utf-8 -*-"""Created on Mon Feb 20 11:42:35 2023@author: quentin"""import json as jsonimport pandas as pd import numpy as npimport osimport matplotlib.pyplot as pltimport datetimedirectory='/Users/quentin/Lybo/AMO10_deputes_actifs_mandats_actifs_organes_XVI_nettoye/acteurs'# iterate over files in# that directorymandats=[]genre = []naissance = []dep_naissance = []ville_naissance = []for filename in os.listdir(directory):    f = os.path.join(directory, filename)    # checking if it is a file    if os.path.isfile(f):        f = open(directory+'/'+filename)        j=json.load(f)        mandats.append(len(j['mandats']))        genre.append(j['etatCivil']['ident']['civ'])        naissance.append(int(j['etatCivil']['infoNaissance']['dateNais'][:4]))        ville_naissance.append(j['etatCivil']['infoNaissance']['villeNais'])        try:            dep_naissance.append(j['etatCivil']['infoNaissance']['depNais'])           except KeyError:             pass# Nombre de députés par nombre de mandatsplt.hist(mandats, bins=40)plt.title('Nombre de députés en fonction du nombre de mandats passés')# Genregenre=pd.Series(genre)femme=genre[genre=='Mme'].dropna(axis=0)homme=genre[genre=='M.'].dropna(axis=0)plt.bar(height=[len(femme)/len(genre)*100,len(homme)/len(genre)*100], x=[0,1])plt.xticks([0,1], ['Femme', 'Homme'])plt.title('Genre des députés')# Âgenaissance=pd.Series(naissance).apply(lambda x: 2023-x)naissance.value_counts(sort=False).sort_index().plot.bar(figsize=(15,5), rot=45, title='Distribution de la date de naissance des députés')# Ville de naissanceville=pd.Series(dep_naissance)ville.value_counts(sort=True).plot.pie(figsize=(40,40), fontsize=30)